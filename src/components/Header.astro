---
import MegaMenu from "./MegaMenu.astro";
---

<header class="relative bg-white z-40">
  <div class="container mx-auto">
    <div class="grid grid-cols-3 items-center pt-5 mx-6">
      <!-- Left: Mobile Menu Toggle -->
      <div class="flex justify-start">
        <button id="menu-toggle">
          <i class="ri-menu-fill text-3xl"></i>
        </button>
      </div>

      <!-- Center: Logo -->
      <div class="text-center uppercase">
        <a href="/" class="block">
          <h1 class="text-xl md:text-4xl font-bold">
            r<span class="text-red-600">3</span>thrift
          </h1>
        </a>
      </div>

      <!-- Right: Icons -->
      <div class="flex justify-end sm:gap-5 md:gap-6">
        <button id="search-toggle">
          <i class="ri-search-line text-xl cursor-pointer"></i>
        </button>
        <a href="/wishlist">
          <i class="ri-star-fill text-xl cursor-pointer"></i>
        </a>
        <a href="/customer/account">
          <i class="ri-user-fill text-xl cursor-pointer"></i>
        </a>
        <a href="/cart">
          <i class="ri-shopping-bag-line text-xl cursor-pointer"></i>
        </a>
      </div>
    </div>
  </div>

  <!-- <div id="" class="hidden md:block">
    <div class="text-center">
      <nav class="flex justify-center gap-[40px] my-[15px]">
        <div class="font-xs uppercase hover:underline">
          <a href="/new arrivals">new arrivals</a>
        </div>
        <div class="text-md uppercase hover:underline">
          <a href="/men">men</a>
        </div>
        <div class="text-md uppercase hover:underline">
          <a href="/women">women</a>
        </div>
        <div class="text-md uppercase hover:underline">
          <a href="/babies">babies</a>
        </div>
        <div class="text-md uppercase hover:underline">
          <a href="/shoes">shoes</a>
        </div>
        <div class="text-md uppercase hover:underline">
          <a href="/accecories">accecories</a>
        </div>
        <div class="text-md uppercase hover:underline">
          <a href="/decors">decors</a>
        </div>
      </nav>
    </div>
  </div> -->

  <!-- navigations -->
  <div class="hidden md:block">
    <div class="px-20 flex items-center justify-center gap-6 py-4">
      <div class=""></div>
      <!-- left -->
      <MegaMenu />

      <!-- right
      <div class="flex justify-end space-x-3">
        <button class="border px-1 w-20 py-1 text-black text-sm bg-[#D9D9D9]"
          >TRADE</button
        >
        <button class="bg-black text-white px-1 w-20 py-1 text-sm">SELL</button>
      </div> -->
    </div>
  </div>

  <!-- Search Bar (Hidden by Default) -->
  <div
    id="search-bar"
    class="absolute top-9 md:top-24 w-full bg-white p-4 hidden"
  >
    <form action="">
      <input
        type="search"
        placeholder="Search here"
        class="w-full p-2 text-center text-3xl outline-none"
      />
    </form>
  </div>

  <!-- Left Toogle Menu -->
  <div
    id="menu-bar"
    class="absolute top-9 md:top-24 bg-white w-3/4 flex-col md:w-1/3 hidden"
  >
    <div class="flex items-center cursor-pointer w-full px-6">
      <ul class="mt-2 leading-12 text-sm uppercase">
        <li><a href="/shop">shop</a></li>
        <li><a href="/signup">sign in/ sign up</a></li>
        <li><a href="/about">ABOUT US</a></li>
        <li><a href="/">CONTACT / LOCATE US</a></li>
        <li><a href="/">SHIPPING INFORMATION</a></li>
        <li><a href="/">RETURN AND EXCHANGE</a></li>
        <li><a href="/">LEGAL</a></li>
        <li><a href="/">CAREERS</a></li>
      </ul>
    </div>
  </div>
</header>

<script is:inline>
  document.addEventListener("DOMContentLoaded", () => {
    const searchToggle = document.getElementById("search-toggle");
    const searchBar = document.getElementById("search-bar");

    const menuToggle = document.getElementById("menu-toggle");
    const menuBar = document.getElementById("menu-bar");

    if (searchToggle && searchBar) {
      searchToggle.addEventListener("click", () => {
        searchBar.classList.toggle("hidden");
      });
    }

    if (menuToggle && menuBar) {
      menuToggle.addEventListener("click", () => {
        menuBar.classList.toggle("hidden");
      });
    }
  });
</script>
